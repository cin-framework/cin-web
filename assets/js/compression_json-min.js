/**
         * Advanced JSON Compressor
         * @package CIN Framework
         * @author Mawi Man
         * @license Proprietary - All rights reserved to Ayoub Alarjani
         */
const jsonInput=document.getElementById("jsonInput"),jsonOutput=document.getElementById("jsonOutput"),compressBtn=document.getElementById("compressBtn"),formatBtn=document.getElementById("formatBtn"),copyBtn=document.getElementById("copyBtn"),inputStats=document.getElementById("inputStats"),outputStats=document.getElementById("outputStats"),compressionRatio=document.getElementById("compressionRatio");function advancedJSONCompress(t){if(!t||"string"!=typeof t)return"";try{const e=JSON.parse(t);return JSON.stringify(e)}catch(t){throw new Error("Invalid JSON format")}}function formatJSONCode(t){if(!t||"string"!=typeof t)return"";try{const e=JSON.parse(t);return JSON.stringify(e,null,2)}catch(t){throw new Error("Invalid JSON format")}}function compressJSON(){const t=jsonInput.value;if(t.trim())try{compressBtn.disabled=!0,compressBtn.textContent="Compressing...",setTimeout((()=>{const e=advancedJSONCompress(t);jsonOutput.value=e,copyBtn.disabled=!1;const o=t.length,n=e.length,s=((o-n)/o*100).toFixed(1);outputStats.textContent=`${n.toLocaleString()} characters`,compressionRatio.textContent=`${s}% smaller`,showMessage("JSON compressed successfully!","success"),compressBtn.disabled=!1,compressBtn.textContent="Compress JSON"}),100)}catch(t){showMessage("Error compressing JSON code.","error"),compressBtn.disabled=!1,compressBtn.textContent="Compress JSON"}else showMessage("Please enter JSON code to compress.","error")}function formatJSON(){const t=jsonInput.value;if(t.trim())try{formatBtn.disabled=!0,formatBtn.textContent="Formatting...",setTimeout((()=>{const e=formatJSONCode(t);jsonOutput.value=e,copyBtn.disabled=!1;const o=t.length,n=e.length,s=((n-o)/o*100).toFixed(1);outputStats.textContent=`${n.toLocaleString()} characters`,compressionRatio.textContent=s>0?`${s}% larger`:`${Math.abs(s)}% smaller`,showMessage("JSON formatted successfully!","success"),formatBtn.disabled=!1,formatBtn.textContent="Format JSON"}),100)}catch(t){showMessage("Error formatting JSON code.","error"),formatBtn.disabled=!1,formatBtn.textContent="Format JSON"}else showMessage("Please enter JSON code to format.","error")}function copyCompressed(){jsonOutput.value?navigator.clipboard.writeText(jsonOutput.value).then((()=>{showMessage("Code copied successfully!","success"),copyBtn.textContent="Copied!",setTimeout((()=>{copyBtn.textContent="Copy"}),2e3)})).catch((()=>{showMessage("Failed to copy code.","error")})):showMessage("No processed code to copy.","error")}function clearInput(){jsonInput.value="",jsonOutput.value="",copyBtn.disabled=!0,inputStats.textContent="0 characters",outputStats.textContent="0 characters",compressionRatio.textContent=""}function showMessage(t,e="info"){let o=document.getElementById("compressionMessage");o||(o=document.createElement("div"),o.id="compressionMessage",o.className="cin-alert cin-mt-4",document.querySelector(".cin-card").appendChild(o)),o.className=`cin-alert cin-alert-${e} cin-mt-4`,o.textContent=t,o.style.display="block",setTimeout((()=>{o.style.display="none"}),3e3)}function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}jsonInput.addEventListener("input",(()=>{const t=jsonInput.value.length;inputStats.textContent=`${t.toLocaleString()} characters`})),window.addEventListener("load",(()=>{document.getElementById("loadingScreen").style.display="none"})),document.addEventListener("keydown",(t=>{if(t.ctrlKey||t.metaKey)switch(t.key){case"Enter":t.preventDefault(),compressJSON();break;case"r":t.preventDefault(),clearInput();break;case"f":t.preventDefault(),formatJSON();break}})),window.onload=()=>{const t=location.pathname.split("/").pop().replace(".html","");window.parent.postMessage({page:t},"*")};