/**
         * Advanced JavaScript Compressor
         * @package CIN Framework
         * @author Mawi Man
         * @license Proprietary - All rights reserved to Ayoub Alarjani
         */
const jsInput=document.getElementById("jsInput"),jsOutput=document.getElementById("jsOutput"),compressBtn=document.getElementById("compressBtn"),formatBtn=document.getElementById("formatBtn"),copyBtn=document.getElementById("copyBtn"),inputStats=document.getElementById("inputStats"),outputStats=document.getElementById("outputStats"),compressionRatio=document.getElementById("compressionRatio");function advancedJSCompress(e){if(!e||"string"!=typeof e)return"";let t=e;return t=t.replace(/\/\/.*$/gm,""),t=t.replace(/\/\*[\s\S]*?\*\//g,""),t=t.replace(/\s+/g," "),t=t.replace(/\s*([{}();,=+\-*\/&|!<>?:])\s*/g,"$1"),t=t.replace(/\s*([\[\]])\s*/g,"$1"),t=t.replace(/\s*\(\s*/g,"("),t=t.replace(/\s*\)\s*/g,")"),t=t.replace(/;}/g,"}"),t=t.replace(/"\s*\+\s*"/g,""),t=t.replace(/'\s*\+\s*'/g,""),t=t.replace(/\s*\.\s*/g,"."),t=t.replace(/\btrue\b/g,"!0"),t=t.replace(/\bfalse\b/g,"!1"),t=t.replace(/\bundefined\b/g,"void 0"),t=t.replace(/function\s+/g,"function "),t=t.replace(/return\s+/g,"return "),t=t.replace(/,\s+/g,","),t=t.replace(/var\s+/g,"var "),t=t.replace(/let\s+/g,"let "),t=t.replace(/const\s+/g,"const "),t=t.replace(/\s*(\+=|\-=|\*=|\/=|%=|\|=|&=|\^=|<<=|>>=|>>>=)\s*/g,"$1"),t=t.replace(/if\s*\(/g,"if("),t=t.replace(/else\s+if\s*\(/g,"else if("),t=t.replace(/else\s*{/g,"else{"),t=t.replace(/for\s*\(/g,"for("),t=t.replace(/while\s*\(/g,"while("),t=t.replace(/try\s*{/g,"try{"),t=t.replace(/catch\s*\(/g,"catch("),t=t.replace(/finally\s*{/g,"finally{"),t=t.trim(),t=t.replace(/\s{2,}/g," "),t}function formatJSCode(e){if(!e||"string"!=typeof e)return"";let t=e,s=0;t=t.replace(/\s+/g," ").trim(),t=t.replace(/;(?=(?:[^"']*["'][^"']*["'])*[^"']*$)/g,";\n"),t=t.replace(/{/g,"{\n"),t=t.replace(/}/g,"\n}\n");const n=t.split("\n"),o=[];for(let e of n){if(e=e.trim(),!e)continue;e.includes("}")&&(s=Math.max(0,s-1));const t=" ".repeat(4*s)+e;o.push(t),e.includes("{")&&s++}return t=o.join("\n").replace(/\n{3,}/g,"\n\n"),t=t.replace(/function\s*\(/g,"function ("),t=t.replace(/}\s*else\s*{/g,"} else {"),t=t.replace(/}\s*catch\s*\(/g,"} catch ("),t=t.replace(/}\s*finally\s*{/g,"} finally {"),t=t.replace(/if\s*\(/g,"if ("),t=t.replace(/for\s*\(/g,"for ("),t=t.replace(/while\s*\(/g,"while ("),t=t.replace(/switch\s*\(/g,"switch ("),t=t.replace(/([^=!<>])=([^=])/g,"$1 = $2"),t=t.replace(/([^=!<>])==([^=])/g,"$1 == $2"),t=t.replace(/([^=!<>])===([^=])/g,"$1 === $2"),t=t.replace(/([^!])!=([^=])/g,"$1 != $2"),t=t.replace(/([^!])!==([^=])/g,"$1 !== $2"),t}function formatJS(){const e=jsInput.value;if(e.trim())try{formatBtn.disabled=!0,formatBtn.textContent="Formatting...",setTimeout((()=>{const t=formatJSCode(e);jsOutput.value=t,copyBtn.disabled=!1;const s=e.length,n=t.length,o=((n-s)/s*100).toFixed(1);outputStats.textContent=`${n.toLocaleString()} characters`,compressionRatio.textContent=o>0?`${o}% larger`:`${Math.abs(o)}% smaller`,showMessage("JavaScript formatted successfully!","success"),formatBtn.disabled=!1,formatBtn.textContent="Format JavaScript"}),100)}catch(e){showMessage("Error formatting JavaScript code.","error"),formatBtn.disabled=!1,formatBtn.textContent="Format JavaScript"}else showMessage("Please enter JavaScript code to format.","error")}function compressJS(){const e=jsInput.value;if(e.trim())try{compressBtn.disabled=!0,compressBtn.textContent="Compressing...",setTimeout((()=>{const t=advancedJSCompress(e);jsOutput.value=t,copyBtn.disabled=!1;const s=e.length,n=t.length,o=((s-n)/s*100).toFixed(1);outputStats.textContent=`${n.toLocaleString()} characters`,compressionRatio.textContent=`${o}% smaller`,showMessage("JavaScript compressed successfully!","success"),compressBtn.disabled=!1,compressBtn.textContent="Compress JavaScript"}),100)}catch(e){showMessage("Error compressing JavaScript code.","error"),compressBtn.disabled=!1,compressBtn.textContent="Compress JavaScript"}else showMessage("Please enter JavaScript code to compress.","error")}function copyCompressed(){jsOutput.value?navigator.clipboard.writeText(jsOutput.value).then((()=>{showMessage("Code copied successfully!","success"),copyBtn.textContent="Copied!",setTimeout((()=>{copyBtn.textContent="Copy"}),2e3)})).catch((()=>{showMessage("Failed to copy code.","error")})):showMessage("No compressed code to copy.","error")}function clearInput(){jsInput.value="",jsOutput.value="",copyBtn.disabled=!0,inputStats.textContent="0 characters",outputStats.textContent="0 characters",compressionRatio.textContent=""}function showMessage(e,t="info"){let s=document.getElementById("compressionMessage");s||(s=document.createElement("div"),s.id="compressionMessage",s.className="cin-alert cin-mt-4",document.querySelector(".cin-card").appendChild(s)),s.className=`cin-alert cin-alert-${t} cin-mt-4`,s.textContent=e,s.style.display="block",setTimeout((()=>{s.style.display="none"}),3e3)}function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}jsInput.addEventListener("input",(()=>{const e=jsInput.value.length;inputStats.textContent=`${e.toLocaleString()} characters`})),window.addEventListener("load",(()=>{document.getElementById("loadingScreen").style.display="none"})),document.addEventListener("keydown",(e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"Enter":e.preventDefault(),compressJS();break;case"r":e.preventDefault(),clearInput();break}})),window.onload=()=>{const e=location.pathname.split("/").pop().replace(".html","");window.parent.postMessage({page:e},"*")};