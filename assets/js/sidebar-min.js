/**
 * CIN Framework Sidebar Component
 * @package CIN Framework
 * @author Mawi Man
 * @license Proprietary - All rights reserved to Ayoub Alarjani
 */
function getCurrentPathPrefix(){return window.location.pathname.includes("/p/")?"/p/":""}function generateSidebarHTML(){const e=getCurrentPathPrefix();return`\n        <aside class="cin-sidebar" id="sidebar">\n            <nav class="cin-sidebar-nav">\n                \x3c!-- Search Section --\x3e\n                <div class="cin-sidebar-search">\n                    <input type="text" class="cin-input cin-input-search" id="cin-sidebar-search" placeholder="البحث / Search..." data-translate-placeholder="sidebar_search_placeholder" />\n                    <div class="cin-search-no-results" id="cin-search-no-results" style="display: none;">\n                        <p data-translate="no_search_results">لا توجد نتائج / No results found</p>\n                    </div>\n                </div>\n                \n                <div class="cin-sidebar-section" data-searchable="main" data-search-terms="main رئيسي">\n                    <ul class="cin-nav-list">\n                        <li><a href="${e}main.html" class="cin-sidebar-item" data-translate="main" data-search-terms="main رئيسي">MAIN</a></li>\n                    </ul>\n                </div>\n                <div class="cin-sidebar-section" data-searchable="cin" data-search-terms="cin حول about">\n                    <h4 class="cin-sidebar-title cin-collapsible" data-translate="cin" onclick="toggleSidebarSection(this)">CIN <span class="cin-collapse-icon">▼</span></h4>\n                    <ul class="cin-nav-list cin-collapsible-content">\n                        <li><a href="${e}about_cin.html" class="cin-sidebar-item" data-translate="about_cin" data-search-terms="about cin حول">About CIN</a></li>\n                        <li><a href="${e}privacy_policy.html" class="cin-sidebar-item" data-translate="privacy_policy" data-search-terms="privacy policy سياسة الخصوصية">Privacy Policy</a></li>\n                    </ul>\n                </div>\n                <div class="cin-sidebar-section" data-searchable="tools" data-search-terms="tools cin أدوات ضغط compression css js json html">\n                    <h4 class="cin-sidebar-title cin-collapsible" data-translate="tools_cin" onclick="toggleSidebarSection(this)">TOOLS CIN <span class="cin-collapse-icon">▶</span></h4>\n                    <ul class="cin-nav-list cin-collapsible-content cin-collapsed">\n                        <li><a href="${e}compression_css.html" class="cin-sidebar-item" data-translate="compression_css" data-search-terms="css compression ضغط سي اس اس">CSS Compression</a></li>\n                        <li><a href="${e}compression_js.html" class="cin-sidebar-item" data-translate="compression_js" data-search-terms="js javascript compression ضغط جافا سكريبت">JS Compression</a></li>\n                        <li><a href="${e}compression_json.html" class="cin-sidebar-item" data-translate="compression_json" data-search-terms="json compression ضغط جيسون">JSON Compression</a></li>\n                        <li><a href="${e}compression_html.html" class="cin-sidebar-item" data-translate="compression_html" data-search-terms="html compression ضغط اتش تي ام ال">HTML Compression</a></li>\n                    </ul>\n                </div>\n            </nav>\n        </aside>\n    `}function saveSidebarState(e,t){try{const a=JSON.parse(localStorage.getItem("cin_sidebar_state")||"{}");a[e]=t,localStorage.setItem("cin_sidebar_state",JSON.stringify(a))}catch(e){}}function getSidebarState(e){try{return JSON.parse(localStorage.getItem("cin_sidebar_state")||"{}")[e]}catch(e){return null}}function toggleSidebarSection(e){const t=e.nextElementSibling,a=e.querySelector(".cin-collapse-icon"),i=e.getAttribute("data-translate")||"unknown";t&&t.classList.contains("cin-collapsible-content")&&(t.classList.toggle("cin-collapsed"),a&&(a.textContent=t.classList.contains("cin-collapsed")?"▶":"▼"),saveSidebarState(i,t.classList.contains("cin-collapsed")))}function restoreSidebarState(){document.querySelectorAll(".cin-collapsible").forEach((e=>{const t=e.getAttribute("data-translate")||"unknown",a=getSidebarState(t),i=e.nextElementSibling,n=e.querySelector(".cin-collapse-icon");null!==a&&i&&i.classList.contains("cin-collapsible-content")?a?(i.classList.add("cin-collapsed"),n&&(n.textContent="▶")):(i.classList.remove("cin-collapsed"),n&&(n.textContent="▼")):"cin"===t?(i.classList.remove("cin-collapsed"),n&&(n.textContent="▼")):"tools_cin"===t&&(i.classList.add("cin-collapsed"),n&&(n.textContent="▶"))}))}function initializeSidebar(e="sidebar-container"){const t=document.getElementById(e);if(t)t.innerHTML=generateSidebarHTML();else{const e=generateSidebarHTML();document.body.insertAdjacentHTML("afterbegin",e)}setTimeout(restoreSidebarState,100)}function filterSidebar(e){const t=document.querySelectorAll(".cin-sidebar-section[data-searchable]"),a=document.getElementById("cin-search-no-results");let i=!1;e=e.toLowerCase().trim(),t.forEach((t=>{const a=t.getAttribute("data-search-terms")||"",n=t.querySelector(".cin-sidebar-title")?.textContent||"",s=t.querySelectorAll(".cin-sidebar-item");let c=!1;if((""===e||a.toLowerCase().includes(e)||n.toLowerCase().includes(e))&&(c=!0),s.forEach((t=>{const a=t.getAttribute("data-search-terms")||"",i=t.textContent||"";""===e||a.toLowerCase().includes(e)||i.toLowerCase().includes(e)?(t.style.display="",c=!0):t.style.display="none"})),c){if(t.classList.remove("cin-hidden"),i=!0,""!==e&&t.classList.contains("cin-collapsible")){const e=t.querySelector(".cin-collapsible-content");if(e&&e.classList.contains("cin-collapsed")){e.classList.remove("cin-collapsed");const a=t.querySelector(".cin-collapse-icon");a&&(a.textContent="▼")}}}else t.classList.add("cin-hidden")})),a.style.display=""===e||i?"none":"block"}function initializeSearch(){const e=document.getElementById("cin-sidebar-search");e&&(e.addEventListener("input",(function(e){filterSidebar(e.target.value)})),e.addEventListener("keydown",(function(e){"Escape"===e.key&&(e.target.value="",filterSidebar(""))})))}document.addEventListener("DOMContentLoaded",(function(){document.getElementById("sidebar")||initializeSidebar(),initializeSearch()})),window.CinSidebar={generate:generateSidebarHTML,initialize:initializeSidebar,getPathPrefix:getCurrentPathPrefix,toggleSection:toggleSidebarSection,saveState:saveSidebarState,getState:getSidebarState,restoreState:restoreSidebarState,filterSidebar:filterSidebar};